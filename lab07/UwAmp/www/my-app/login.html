<html>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<head>

</head>
<body>

<div id="myDiv">
Name: <input id="name" type="text" name="name" value=""/><br>
Password: <input id="password" type="text" name="password" value=""/><br>
<input id="submit" type="button" value="Submit"/>
<div id="tryAgain"/>
<table id="posts">
<tr><td> This is the text in a single post.<input id="button1" type="button" value="Update"/></td></tr>
<tr><td> This is the text in a single post.<input id="button2" type="button" value="Update"/></td></tr>
<tr><td> This is the text in a single post.<input id="button3" type="button" value="Update"/></td></tr>
</table>
</div>



<script>
var testObj = {title: "trial post 1", message:"I just want to see how this is formatted as a json object.",author: "Tyler", time:"3-12-16 3:05pm"};
var testObj2 = {"title":"another post","message":"s'more text to see how this works.","author":"Drake","time":"3-12-16 3:14pm"};
var myConvertedObject = JSON.stringify([testObj,testObj2]);
console.log(myConvertedObject);

$(document).ready(function() {
	$("#submit").click(checkLogin);
	
});

checkLogin = function() {
	$.post("checkLogin.php", {name : $("#name").val(), password : $("#password").val()}, 
		function(data,status) { 
			if (data == "success") {
				viewPosts();
			}
			else {
				$("#tryAgain").html('<p style="color:red;">Wrong. Try Again</p>');
			}
		}
	);
}

viewPosts = function(){
	//replace my div with html to display posts
	
	$.post("viewPosts.php",
		function(data,status){
			var posts = JSON.parse(data);
			//posts is an array of objects, each of which has a title, message, author, and time string
			//get info like this: posts[0].message
			//TODO: make some html structure with a table to display the posts
			//$("#myDiv").html(posts[0].message);
		}
	);
}
</script>
</body>
</html>